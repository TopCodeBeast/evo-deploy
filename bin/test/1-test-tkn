#!/usr/bin/env bash

set -e

. $(PWD)/bin/init

cap=$(seth --to-uint256 $(seth --to-wei 100000000000000 ether))
seth send "$TOKEN_ERC20_RING" "changeCap(uint256)" "$cap"

# test mint
amount=$(seth --to-uint256 $(seth --to-wei 5000000 ether))
# tokens=("GOLD" "WOOD" "WATER" "FIRE" "SOIL")
tokens=("RING")
for token in "${tokens[@]}"; do
  seth send "$(eval echo "\$TOKEN_ERC20_${token}")" "mint(uint256)" "$amount"
done

# seth send -V "$(seth --to-wei 1 ether)"  "$TOKEN_ERC20_RING" "deposit()" 

seth call "$TOKEN_ERC20_RING" "balanceOf(address)(uint256)" $AUTH
seth send "$TOKEN_ERC20_RING" "transfer(address dst, uint wad)" 0x735182c782CB8e7806F8903dE7913e6880CbF82E $amount
seth call "$TOKEN_ERC20_RING" "balanceOf(address)(uint256)" $AUTH
