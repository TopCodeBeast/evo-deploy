#!/usr/bin/env bash

set -e

. $(PWD)/bin/init

GENESCIENCEV9=$(seth send --create 608060405234801561001057600080fd5b506040516020806123fa833981016040525160008054600160a060020a03909216600160a060020a03199092169190911790556123a8806100526000396000f3006080604052600436106101b35763ffffffff60e060020a60003504166304cc26ee81146101b857806308217f8d146101df57806316409887146102185780632094b4911461022d5780632133bbcf14610248578063230b7adc1461025d5780633133f0841461027257806334cddc83146102875780633a0d42441461029c5780634685b62a146102cb57806347358822146102e0578063572e3543146102fb5780635d4a2f92146103105780635fb1900b146103255780636bf79fd11461033a57806378a6bd571461034f578063795f8752146103675780637b1039991461038b5780637fb2c9d9146103bc57806382357892146103d15780638b7ee7e4146103e65780638d8b1b88146103fb5780639da0968a14610416578063a1c1d1b11461042e578063a22709e414610449578063a8dc03591461045e578063b72c7fd414610473578063b863bd3714610488578063bef2613a146104a0578063d12710b2146104b5578063d47e5af6146104fe578063dd87c7c214610513578063deb8b96d1461052b578063e707bbf614610540578063ece43eb214610561578063f36a079b14610576578063f4f6a9351461058b575b600080fd5b3480156101c457600080fd5b506101cd6105b8565b60408051918252519081900360200190f35b3480156101eb57600080fd5b506101fa6004356024356105dc565b60408051938452602084019290925282820152519081900360600190f35b34801561022457600080fd5b506101cd610682565b34801561023957600080fd5b506101cd6004356024356106a6565b34801561025457600080fd5b506101cd6106be565b34801561026957600080fd5b506101cd6106e2565b34801561027e57600080fd5b506101cd610706565b34801561029357600080fd5b506101cd61072a565b3480156102a857600080fd5b506102b760043560243561074e565b604080519115158252519081900360200190f35b3480156102d757600080fd5b506101cd6107b0565b3480156102ec57600080fd5b506101cd6004356024356107d4565b34801561030757600080fd5b506101cd6107ea565b34801561031c57600080fd5b506101cd61080e565b34801561033157600080fd5b506101cd610832565b34801561034657600080fd5b506101cd610856565b34801561035b57600080fd5b506101cd600435610868565b34801561037357600080fd5b506101cd6004356024356044356064356084356109e7565b34801561039757600080fd5b506103a0610a00565b60408051600160a060020a039092168252519081900360200190f35b3480156103c857600080fd5b506101cd610a0f565b3480156103dd57600080fd5b506101cd610a33565b3480156103f257600080fd5b506101cd610a57565b34801561040757600080fd5b506101cd600435602435610a7b565b34801561042257600080fd5b506101cd600435610a8f565b34801561043a57600080fd5b506101cd600435602435610aa8565b34801561045557600080fd5b506101cd610c19565b34801561046a57600080fd5b506101cd610c3d565b34801561047f57600080fd5b506101cd610c61565b34801561049457600080fd5b506101cd600435610c85565b3480156104ac57600080fd5b506101cd610dc9565b3480156104c157600080fd5b506104e5600435602435604435606435600160a060020a036084351660a435610ded565b6040805192835260208301919091528051918290030190f35b34801561050a57600080fd5b506101cd610f3b565b34801561051f57600080fd5b506101cd600435610f5f565b34801561053757600080fd5b506101cd61180f565b34801561054c57600080fd5b506101cd600435602435604435606435611833565b34801561056d57600080fd5b506101cd61197a565b34801561058257600080fd5b506101cd61199e565b34801561059757600080fd5b506101cd600435600160a060020a03602435166044356064356084356119c2565b7f434f4e54524143545f555345525f504f494e545300000000000000000000000081565b604080516fffffffffffffffffffffffffffffffff84168084038252915190819003602001902060009182918291908280806014840615156106275760009750879650869550610676565b60028406925060068406915082821415610642576003820191505b50600a830682811415610653576006015b8181141561065f576004015b806009141561066c5750600b5b8282829750975097505b50505050509250925092565b7f434f4e54524143545f47454e455f534349454e4345000000000000000000000081565b6000806106b38484610aa8565b939093019392505050565b7f434f4e54524143545f57415445525f45524332305f544f4b454e00000000000081565b7f434f4e54524143545f474f4c445f45524332305f544f4b454e0000000000000081565b7f434f4e54524143545f52494e475f45524332305f544f4b454e0000000000000081565b7f55494e545f41554354494f4e5f4355540000000000000000000000000000000081565b6000807e040000000000000000000000000000000000000000000000000000000000008085049084041480156107a857507e0200000000000000000000000000000000000000000000000000000000000080850490840414155b949350505050565b7f434f4e54524143545f544f4b454e5f4c4f434154494f4e00000000000000000081565b506fffffffffffffffffffffffffffffffff1690565b7f434f4e54524143545f4b544f4e5f45524332305f544f4b454e0000000000000081565b7f434f4e54524143545f574f4f445f45524332305f544f4b454e0000000000000081565b7f434f4e54524143545f464952455f45524332305f544f4b454e0000000000000081565b60008051602061235d83398151915281565b60008061096683430161095a454241325a6040516020018084600160a060020a0316600160a060020a03166c0100000000000000000000000002815260140183600160a060020a0316600160a060020a03166c0100000000000000000000000002815260140182815260200193505050506040516020818303038152906040526040518082805190602001908083835b602083106109175780518252601f1990920191602091820191016108f8565b5181516020939093036101000a600019018019909116921691909117905260405192018290039091209250505081151561094d57fe5b049063ffffffff611b4d16565b9063ffffffff611b4d16565b604051602001808281526020019150506040516020818303038152906040526040518082805190602001908083835b602083106109b45780518252601f199092019160209182019101610995565b5181516020939093036101000a600019018019909116921691909117905260405192018290039091209695505050505050565b60006109f68686868686611b60565b9695505050505050565b600054600160a060020a031681565b7f434f4e54524143545f494e5445525354454c4c41525f454e434f44455200000081565b7f434f4e54524143545f5045545f4241534500000000000000000000000000000081565b7f434f4e54524143545f534f494c5f45524332305f544f4b454e0000000000000081565b6000610a878383611cd0565b509392505050565b6000811515610aa057506001610aa3565b50805b919050565b6000806000806000806000610abd89896105dc565b9197509550935085158015610ad0575084155b8015610ada575083155b15610ae85760009650610c0d565b85600802608001610b406064600d896001018c811515610b0457fe5b6040805192909104825251908190036020019020811515610b2157fe5b06896008028d9060020a900460ff1602811515610b3a57fe5b04610a8f565b9060020a02925084600802608001610b9f6064600d886001018c811515610b6357fe5b6040805192909104825251908190036020019020811515610b8057fe5b06811515610b8a57fe5b04876008028c9060020a900460ff1602610a8f565b9060020a02915083600802608001610bfe6064600d876001018c811515610bc257fe5b6040805192909104825251908190036020019020811515610bdf57fe5b06811515610be957fe5b04866008028c9060020a900460ff1602610a8f565b9060020a029050808284010196505b50505050505092915050565b7f434f4e54524143545f4f424a4543545f4f574e4552534849500000000000000081565b7f434f4e54524143545f544f4b454e5f555345000000000000000000000000000081565b7f434f4e54524143545f4552433732315f4252494447450000000000000000000081565b600080610d314361095a454241325a6040516020018084600160a060020a0316600160a060020a03166c0100000000000000000000000002815260140183600160a060020a0316600160a060020a03166c010000000000000000000000000281526014018281526020019350505050604051602081830303815290604052604051808280519060200190808383602083106109175780518252601f1990920191602091820191016108f8565b604051602001808281526020019150506040516020818303038152906040526040518082805190602001908083835b60208310610d7f5780518252601f199092019160209182019101610d60565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040518091039020600190049050610dbe81600085611edd565b601490069392505050565b7f434f4e54524143545f524556454e55455f504f4f4c000000000000000000000081565b600080546040805160e260020a632ecd14d302815260008051602061235d83398151915260048201529051839283928392600160a060020a039092169163bb34534c9160248082019260209290919082900301818787803b158015610e5157600080fd5b505af1158015610e65573d6000803e3d6000fd5b505050506040513d6020811015610e7b57600080fd5b5051604080517fa2de1409000000000000000000000000000000000000000000000000000000008152600160a060020a0389811660048301529151919092169163a2de14099160248083019260209291908290030181600087803b158015610ee257600080fd5b505af1158015610ef6573d6000803e3d6000fd5b505050506040513d6020811015610f0c57600080fd5b50519050610f1a8a8a611cd0565b9094509150610f2c8888848489611b60565b92505050965096945050505050565b7f434f4e54524143545f4c414e445f5245534f555243450000000000000000000081565b600080546040805160e260020a632ecd14d302815260008051602061235d83398151915260048201529051839283928392839283928392600160a060020a039092169163bb34534c9160248082019260209290919082900301818787803b158015610fc957600080fd5b505af1158015610fdd573d6000803e3d6000fd5b505050506040513d6020811015610ff357600080fd5b5051600080546040805160e260020a632ecd14d30281527f434f4e54524143545f474f4c445f45524332305f544f4b454e0000000000000060048201529051600160a060020a039485169463667c5d60948e949091169263bb34534c9260248083019360209383900390910190829087803b15801561107157600080fd5b505af1158015611085573d6000803e3d6000fd5b505050506040513d602081101561109b57600080fd5b50516040805160e060020a63ffffffff86160281526004810193909352600160a060020a0390911660248301525160448083019260209291908290030181600087803b1580156110ea57600080fd5b505af11580156110fe573d6000803e3d6000fd5b505050506040513d602081101561111457600080fd5b5051600080546040805160e260020a632ecd14d302815260008051602061235d8339815191526004820152905161ffff9094169950600160a060020a039091169263bb34534c92602480840193602093929083900390910190829087803b15801561117e57600080fd5b505af1158015611192573d6000803e3d6000fd5b505050506040513d60208110156111a857600080fd5b5051600080546040805160e260020a632ecd14d30281527f434f4e54524143545f574f4f445f45524332305f544f4b454e0000000000000060048201529051600160a060020a039485169463667c5d60948e949091169263bb34534c9260248083019360209383900390910190829087803b15801561122657600080fd5b505af115801561123a573d6000803e3d6000fd5b505050506040513d602081101561125057600080fd5b50516040805160e060020a63ffffffff86160281526004810193909352600160a060020a0390911660248301525160448083019260209291908290030181600087803b15801561129f57600080fd5b505af11580156112b3573d6000803e3d6000fd5b505050506040513d60208110156112c957600080fd5b5051600080546040805160e260020a632ecd14d302815260008051602061235d8339815191526004820152905161ffff9094169850600160a060020a039091169263bb34534c92602480840193602093929083900390910190829087803b15801561133357600080fd5b505af1158015611347573d6000803e3d6000fd5b505050506040513d602081101561135d57600080fd5b5051600080546040805160e260020a632ecd14d30281527f434f4e54524143545f57415445525f45524332305f544f4b454e00000000000060048201529051600160a060020a039485169463667c5d60948e949091169263bb34534c9260248083019360209383900390910190829087803b1580156113db57600080fd5b505af11580156113ef573d6000803e3d6000fd5b505050506040513d602081101561140557600080fd5b50516040805160e060020a63ffffffff86160281526004810193909352600160a060020a0390911660248301525160448083019260209291908290030181600087803b15801561145457600080fd5b505af1158015611468573d6000803e3d6000fd5b505050506040513d602081101561147e57600080fd5b5051600080546040805160e260020a632ecd14d302815260008051602061235d8339815191526004820152905161ffff9094169750600160a060020a039091169263bb34534c92602480840193602093929083900390910190829087803b1580156114e857600080fd5b505af11580156114fc573d6000803e3d6000fd5b505050506040513d602081101561151257600080fd5b5051600080546040805160e260020a632ecd14d30281527f434f4e54524143545f464952455f45524332305f544f4b454e0000000000000060048201529051600160a060020a039485169463667c5d60948e949091169263bb34534c9260248083019360209383900390910190829087803b15801561159057600080fd5b505af11580156115a4573d6000803e3d6000fd5b505050506040513d60208110156115ba57600080fd5b50516040805160e060020a63ffffffff86160281526004810193909352600160a060020a0390911660248301525160448083019260209291908290030181600087803b15801561160957600080fd5b505af115801561161d573d6000803e3d6000fd5b505050506040513d602081101561163357600080fd5b5051600080546040805160e260020a632ecd14d302815260008051602061235d8339815191526004820152905161ffff9094169650600160a060020a039091169263bb34534c92602480840193602093929083900390910190829087803b15801561169d57600080fd5b505af11580156116b1573d6000803e3d6000fd5b505050506040513d60208110156116c757600080fd5b5051600080546040805160e260020a632ecd14d30281527f434f4e54524143545f534f494c5f45524332305f544f4b454e0000000000000060048201529051600160a060020a039485169463667c5d60948e949091169263bb34534c9260248083019360209383900390910190829087803b15801561174557600080fd5b505af1158015611759573d6000803e3d6000fd5b505050506040513d602081101561176f57600080fd5b50516040805160e060020a63ffffffff86160281526004810193909352600160a060020a0390911660248301525160448083019260209291908290030181600087803b1580156117be57600080fd5b505af11580156117d2573d6000803e3d6000fd5b505050506040513d60208110156117e857600080fd5b505161ffff1691505084840183018201810160648104603c82040198975050505050505050565b7f55494e545f524546455245525f4355540000000000000000000000000000000081565b61ffff69010000000000000000008504166000806118516033610c85565b9150600882108015906118645750601082105b156118815761ffff690100000000000000000087041692506118aa565b601282101561189357600092506118aa565b61ffff690100000000000000000087041692909217915b6000851180156118ba5750600084115b1561197057600384101561190a57600a6118d46017610c85565b10156118f05760018503600202849060020a0283179250611905565b60018503600202600185039060020a02831792505b611970565b83600314156119705761191d601d610c85565b9050600581101561193d57600260001986018102900a9290921791611970565b600f81101561195d576001850360020260029060020a0283179250611970565b6001850360020260039060020a02831792505b5050949350505050565b7f55494e545f544f4b454e5f4f464645525f43555400000000000000000000000081565b7f434f4e54524143545f4449564944454e44535f504f4f4c00000000000000000081565b6000806000806119d189611eff565b600080546040805160e260020a632ecd14d302815260008051602061235d83398151915260048201529051939650600160a060020a039091169263bb34534c92602480840193602093929083900390910190829087803b158015611a3457600080fd5b505af1158015611a48573d6000803e3d6000fd5b505050506040513d6020811015611a5e57600080fd5b5051604080517fa2de1409000000000000000000000000000000000000000000000000000000008152600160a060020a038b811660048301529151919092169163a2de14099160248083019260209291908290030181600087803b158015611ac557600080fd5b505af1158015611ad9573d6000803e3d6000fd5b505050506040513d6020811015611aef57600080fd5b5051915050600260001982018102900a6901000000000000000000890460038281029190911661ffff169190910490811115611b2a57600080fd5b611b408383838989611b3b8d610f5f565b611f7f565b9998505050505050505050565b81810182811015611b5a57fe5b92915050565b6000603c600885020181808080806082861115611b7c57608295505b85611b87600d610868565b811515611b9057fe5b0694506005851080611ba85750600560048702048510155b15611bb4576003860494505b600585870303611bc46029610868565b811515611bcd57fe5b0693506005841015611be25760028587030493505b610100858703859003028501620100008502019650600392505b600c831015611c905785611c1284601301610868565b811515611c1b57fe5b06915060088310158015611c305750600a8311155b15611c3a57611c85565b8260031480611c495750826004145b15611c6a576032821015611c5c57603291505b6041821115611c6a57604191505b811515611c7657600191505b82600802829060020a02870196505b600190920191611bfc565b6801000000000000000086029690960195611cad8c8c8b8b611833565b61ffff16690100000000000000000002969096019b9a5050505050505050505050565b600080611cdb61231d565b611ce361231d565b611ceb61231d565b60008080807e04000000000000000000000000000000000000000000000000000000000000808c04908b04148015611d4757507e02000000000000000000000000000000000000000000000000000000000000808c04908b0414155b1515611db457604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601560248201527f746865792063616e742068617665206261626965730000000000000000000000604482015290519081900360640190fd5b7fffff0000000000000000000000000000000000000000000000000000000000008b169350600a611de56039610c85565b1015611e1157897fffff0000000000000000000000000000000000000000000000000000000000001693505b600091505b600c821015611ecd57620fffff6014830260020a8c04168783600c8110611e3957fe5b6020020152620fffff6014830260020a8b04168683600c8110611e5857fe5b6020020152611e888783600c8110611e6c57fe5b60200201518784600c8110611e7d57fe5b602002015184611ff2565b8684600c8110611e9457fe5b6020020191909152928301929050601482028583600c8110611eb257fe5b60200201519060020a02840193508180600101925050611e16565b5091999098509650505050505050565b8101621000006107fd939093026001016305f5e1000292909204919091020190565b60006801000000000000000068ff0000000000000000831604700100000000000000000000000000000000830460ff90811681851601907101000000000000000000000000000000000085041661010061ff0086160401826064810460070102818302670de0b6b3a764000002811515611f7557fe5b0495945050505050565b600061ffff601060001988010260020a850416858101801515611fa457889250611fcf565b8060011415611fbd57606460058a020489019250611fcf565b606460001982018a02600a0204890192505b606489860204929092019160646003850281018402049998505050505050505050565b600080611ffd61233d565b61200561233d565b61200d61233d565b60008080808080805b600487101561206857866005028f9060020a9004601f168a8860048110151561203b57fe5b6020020152601f6005880260020a8f041689886004811061205857fe5b6020020152600190960195612016565b600395505b6000861115612151576005612088601f888002028f01610c85565b10156120de578960001987016004811061209e57fe5b602002015194508986600481106120b157fe5b60200201518a6000198801600481106120c657fe5b6020020152848a87600481106120d857fe5b60200201525b600f6120f06025888002028f01610c85565b10612145578860001987016004811061210557fe5b6020020151945088866004811061211857fe5b60200201518960001988016004811061212d57fe5b60200201528489876004811061213f57fe5b60200201525b6000199095019461206d565b600393505b60008411156121db57600a6121716027868002028f01610c85565b1061218c5788846004811061218257fe5b602002015161219e565b89846004811061219857fe5b60200201515b8885600481106121aa57fe5b6020020152600584028885600481106121bf57fe5b60200201519060020a028c019b50838060019003945050612156565b88518a5110156121ec5788516121ef565b89515b89518b519194501015612203578851612206565b89515b9150818303600114801561221b575060028206155b156122ce576010831161222f576002612232565b60055b90506064612240600b610c85565b10156122a35760106002830401808952600f10156122635760018b019a5061229e565b8751601710156122785760028b019a5061229e565b8751601b101561228d5760038b019a5061229e565b8751601d101561229e5760048b019a505b6122c9565b60026014046122b78e602b02603d01610c85565b106122c35788516122c6565b89515b88525b6122f4565b60026014046122e28e602b02603d01610c85565b106122ee5788516122f1565b89515b88525b87519b909b019a600a8d141561230b578a6002029a505b50505050505050505050935093915050565b61018060405190810160405280600c906020820280388339509192915050565b60806040519081016040528060049060208202803883395091929150505600434f4e54524143545f4c414e445f424153450000000000000000000000000000a165627a7a72305820c43019d8d424c36773047b3ded279c3c887e3ad5e896f0dfe016d043f0c6ae1b0029 'GeneScienceV9(address)' $SETTINGSREGISTRY)

register "addr" "CONTRACT_GENE_SCIENCE" "$GENESCIENCEV9"
addAddress "GENESCIENCEV9" $GENESCIENCEV9

CODEX_RANDOM=$(dappCreate "pve" src/codex/codex-random.sol:CodexRandom)
register "addr" "CONTRACT_RANDOM_CODEX" "$CODEX_RANDOM"
